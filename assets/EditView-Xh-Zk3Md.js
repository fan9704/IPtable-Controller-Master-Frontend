import{g as w,p as y}from"./index-C1zCFGaX.js";import{s as h}from"./index-DnT7Il3i.js";import{v as s,A as u,x as f,V as p,C as x,y as C}from"./vuetify-B0GRDPT8.js";import{g as v,d as c,a6 as B,U as b,V as U,W as o,m as l,O as V,l as g}from"./vue-CXMZrBii.js";/* empty css                            */const F=v({__name:"edit",props:{id:{type:String,required:!0}},setup(i){const n=i,d=c(!1),e=c({id:"",hostIp:"",backendUrl:"",frontendUrl:"",note:""}),m=c({id:"",hostIp:"",backendUrl:"",frontendUrl:"",note:""}),_=async r=>{d.value=!0;const a=await w(r);d.value=!1,e.value=a,m.value=a},k=()=>{e.value=g(m.value)},I=async()=>{const r={hostIp:e.value.hostIp,backendUrl:e.value.backendUrl,frontendUrl:e.value.frontendUrl,note:e.value.note},a=await y(n.id,r);e.value=a,h.fire("修改成功","NAT 節點資料已經同步更新","success")};return B(()=>{n.id!=""&&_(n.id)}),(r,a)=>(b(),U(x,{id:"form"},{default:o(()=>[l(f,null,{default:o(()=>[l(s,{cols:"3"},{default:o(()=>[l(u,{modelValue:e.value.hostIp,"onUpdate:modelValue":a[0]||(a[0]=t=>e.value.hostIp=t),label:"主機位置 IP"},null,8,["modelValue"])]),_:1}),l(s,{cols:"3"},{default:o(()=>[l(u,{modelValue:e.value.backendUrl,"onUpdate:modelValue":a[1]||(a[1]=t=>e.value.backendUrl=t),label:"後端位置"},null,8,["modelValue"])]),_:1}),l(s,{cols:"3"},{default:o(()=>[l(u,{modelValue:e.value.frontendUrl,"onUpdate:modelValue":a[2]||(a[2]=t=>e.value.frontendUrl=t),label:"前端位置"},null,8,["modelValue"])]),_:1}),l(s,{cols:"3"},{default:o(()=>[l(u,{modelValue:e.value.note,"onUpdate:modelValue":a[3]||(a[3]=t=>e.value.note=t),label:"備註"},null,8,["modelValue"])]),_:1})]),_:1}),l(f,null,{default:o(()=>[l(s,{cols:"12"},{default:o(()=>[l(p,{class:"mt-4",color:"success",block:"",onClick:I,disabled:d.value},{default:o(()=>[V(" Submit ")]),_:1},8,["disabled"]),l(p,{class:"mt-4",color:"error",block:"",onClick:k,disabled:d.value},{default:o(()=>[V(" Reset Form ")]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1}))}}),q=v({__name:"EditView",props:{id:{type:String,required:!0}},setup(i){const n=i;return(d,e)=>(b(),U(C,null,{default:o(()=>[l(F,{id:n.id},null,8,["id"])]),_:1}))}});export{q as default};
